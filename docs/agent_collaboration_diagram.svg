<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .agent-main { fill: #3498db; stroke: #2980b9; stroke-width: 3; }
      .agent-sub { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .tool-box { fill: #f39c12; stroke: #e67e22; stroke-width: 2; }
      .cloud-service { fill: #27ae60; stroke: #229954; stroke-width: 2; }
      .text-main { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: white; text-anchor: middle; }
      .text-sub { font-family: Arial, sans-serif; font-size: 12px; fill: white; text-anchor: middle; }
      .text-tool { font-family: Arial, sans-serif; font-size: 10px; fill: white; text-anchor: middle; }
      .text-cloud { font-family: Arial, sans-serif; font-size: 11px; fill: white; text-anchor: middle; }
      .arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .data-flow { stroke: #9b59b6; stroke-width: 2; fill: none; marker-end: url(#arrowhead); stroke-dasharray: 5,5; }
      .step-label { font-family: Arial, sans-serif; font-size: 12px; fill: #e74c3c; font-weight: bold; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
  </defs>
  
  <!-- 标题 -->
  <text x="600" y="30" class="title">Google ADK 营销代理系统协作架构图</text>
  
  <!-- 主代理 -->
  <rect x="450" y="80" width="300" height="80" rx="10" class="agent-main"/>
  <text x="600" y="110" class="text-main">营销协调代理</text>
  <text x="600" y="130" class="text-sub">(marketing_coordinator)</text>
  <text x="600" y="145" class="text-sub">Gemini 2.5 Pro</text>
  
  <!-- 子代理 -->
  <!-- 域名创建代理 -->
  <rect x="50" y="250" width="200" height="70" rx="8" class="agent-sub"/>
  <text x="150" y="275" class="text-sub">域名创建代理</text>
  <text x="150" y="290" class="text-tool">(domain_create_agent)</text>
  <text x="150" y="305" class="text-tool">步骤1: 域名选择</text>
  
  <!-- 网站创建代理 -->
  <rect x="300" y="250" width="200" height="70" rx="8" class="agent-sub"/>
  <text x="400" y="275" class="text-sub">网站创建代理</text>
  <text x="400" y="290" class="text-tool">(website_create_agent)</text>
  <text x="400" y="305" class="text-tool">步骤2: 网站构建</text>
  
  <!-- 营销材料代理 -->
  <rect x="700" y="250" width="200" height="70" rx="8" class="agent-sub"/>
  <text x="800" y="275" class="text-sub">营销材料代理</text>
  <text x="800" y="290" class="text-tool">(marketing_create_agent)</text>
  <text x="800" y="305" class="text-tool">步骤3: 营销策略</text>
  
  <!-- Logo设计代理 -->
  <rect x="950" y="250" width="200" height="70" rx="8" class="agent-sub"/>
  <text x="1050" y="275" class="text-sub">Logo设计代理</text>
  <text x="1050" y="290" class="text-tool">(logo_create_agent)</text>
  <text x="1050" y="305" class="text-tool">步骤4: Logo设计</text>
  
  <!-- 工具层 -->
  <rect x="200" y="400" width="800" height="60" rx="8" class="tool-box"/>
  <text x="600" y="420" class="text-main">ADK 框架工具层</text>
  <text x="300" y="440" class="text-tool">AgentTool</text>
  <text x="450" y="440" class="text-tool">ToolContext</text>
  <text x="600" y="440" class="text-tool">load_artifacts</text>
  <text x="750" y="440" class="text-tool">save_artifact</text>
  <text x="900" y="440" class="text-tool">工件管理</text>
  
  <!-- Google Cloud 服务层 -->
  <rect x="50" y="520" width="280" height="60" rx="8" class="cloud-service"/>
  <text x="190" y="540" class="text-cloud">Google Cloud Vertex AI</text>
  <text x="190" y="555" class="text-cloud">Gemini API + Imagen API</text>
  
  <rect x="370" y="520" width="200" height="60" rx="8" class="cloud-service"/>
  <text x="470" y="540" class="text-cloud">Cloud Storage</text>
  <text x="470" y="555" class="text-cloud">工件存储</text>
  
  <rect x="610" y="520" width="200" height="60" rx="8" class="cloud-service"/>
  <text x="710" y="540" class="text-cloud">外部API</text>
  <text x="710" y="555" class="text-cloud">WHOIS查询</text>
  
  <rect x="850" y="520" width="200" height="60" rx="8" class="cloud-service"/>
  <text x="950" y="540" class="text-cloud">监控与日志</text>
  <text x="950" y="555" class="text-cloud">Cloud Monitoring</text>
  
  <!-- 协作箭头 -->
  <!-- 主代理到子代理 -->
  <line x1="550" y1="160" x2="150" y2="250" class="arrow"/>
  <line x1="580" y1="160" x2="400" y2="250" class="arrow"/>
  <line x1="620" y1="160" x2="800" y2="250" class="arrow"/>
  <line x1="650" y1="160" x2="1050" y2="250" class="arrow"/>
  
  <!-- 子代理到工具层 -->
  <line x1="150" y1="320" x2="300" y2="400" class="arrow"/>
  <line x1="400" y1="320" x2="450" y2="400" class="arrow"/>
  <line x1="800" y1="320" x2="750" y2="400" class="arrow"/>
  <line x1="1050" y1="320" x2="900" y2="400" class="arrow"/>
  
  <!-- 工具层到云服务 -->
  <line x1="300" y1="460" x2="190" y2="520" class="arrow"/>
  <line x1="500" y1="460" x2="470" y2="520" class="arrow"/>
  <line x1="700" y1="460" x2="710" y2="520" class="arrow"/>
  <line x1="900" y1="460" x2="950" y2="520" class="arrow"/>
  
  <!-- 数据流向 -->
  <path d="M 250 285 Q 350 200 450 285" class="data-flow"/>
  <path d="M 500 285 Q 600 200 700 285" class="data-flow"/>
  <path d="M 900 285 Q 975 200 950 285" class="data-flow"/>
  
  <!-- 步骤标签 -->
  <text x="80" y="240" class="step-label">1</text>
  <text x="330" y="240" class="step-label">2</text>
  <text x="730" y="240" class="step-label">3</text>
  <text x="980" y="240" class="step-label">4</text>
  
  <!-- 用户交互 -->
  <rect x="450" y="20" width="300" height="40" rx="20" fill="#95a5a6" stroke="#7f8c8d" stroke-width="2"/>
  <text x="600" y="45" class="text-sub" fill="white">用户输入 (品牌关键词)</text>
  <line x1="600" y1="60" x2="600" y2="80" class="arrow"/>
  
  <!-- 最终输出 -->
  <rect x="400" y="650" width="400" height="100" rx="10" fill="#8e44ad" stroke="#7d3c98" stroke-width="2"/>
  <text x="600" y="675" class="text-main" fill="white">最终输出</text>
  <text x="500" y="695" class="text-tool" fill="white">• 可用域名列表</text>
  <text x="500" y="710" class="text-tool" fill="white">• 完整网站代码</text>
  <text x="500" y="725" class="text-tool" fill="white">• 营销策略报告</text>
  <text x="500" y="740" class="text-tool" fill="white">• Logo设计文件</text>
  
  <!-- 从云服务到输出的箭头 -->
  <line x1="600" y1="580" x2="600" y2="650" class="arrow"/>
  
  <!-- 图例 -->
  <rect x="50" y="650" width="300" height="120" rx="5" fill="none" stroke="#bdc3c7" stroke-width="1"/>
  <text x="200" y="670" class="text-sub" fill="#2c3e50">图例说明</text>
  
  <rect x="70" y="680" width="20" height="15" class="agent-main"/>
  <text x="100" y="692" class="text-tool" fill="#2c3e50">主协调代理</text>
  
  <rect x="70" y="700" width="20" height="15" class="agent-sub"/>
  <text x="100" y="712" class="text-tool" fill="#2c3e50">专业子代理</text>
  
  <rect x="70" y="720" width="20" height="15" class="tool-box"/>
  <text x="100" y="732" class="text-tool" fill="#2c3e50">工具层</text>
  
  <rect x="70" y="740" width="20" height="15" class="cloud-service"/>
  <text x="100" y="752" class="text-tool" fill="#2c3e50">云服务</text>
  
  <line x1="200" y1="685" x2="230" y2="685" class="arrow"/>
  <text x="240" y="690" class="text-tool" fill="#2c3e50">调用关系</text>
  
  <line x1="200" y1="705" x2="230" y2="705" class="data-flow"/>
  <text x="240" y="710" class="text-tool" fill="#2c3e50">数据流向</text>
  
</svg>